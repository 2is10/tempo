<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>
		Tempo
	</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
	<script type="text/javascript" src="../tempo.js"></script>
	<style type="text/css">
		li.brother.Groucho {
			color: red;
		}

		li#Gummo {
			text-decoration: line-through;
		}

		li.favourite {
			color: green;
		}

		a.from {
			display: block;
			font-size: 1.1em;
			font-weight: bold;
		}
	</style>
	<script type="text/javascript">
		window.onload = function() {
			var data = [
				{'name':{'first':'Leonard', 'last':'Marx'}, 'nickname':'Chico', 'born': 'March 21, 1887', 'actor': false, 'solo_endeavours' : [
					{'title':'Papa Romani'}
				]},
				{'name':{'first':'Adolph', 'last':'Marx'}, 'nickname':'Harpo', 'born': 'November 23, 1888', 'actor': true, 'solo_endeavours' : [
					{'title':'Too Many Kisses', 'rating':'favourite'},
					{'title':'Stage Door Canteen'}
				]},
				{'name':{'first':'Julius Henry', 'last':'Marx'}, 'nickname':'Groucho', 'born': 'October 2, 1890', 'actor': true, 'solo_endeavours' : [
					{'title':'Copacabana'},
					{'title':'Mr. Music', 'rating':'favourite'},
					{'title':'Double Dynamite'}
				], 'foo':[{'name':'Troll'}, {'name':'Spoll'}]},
				{'name':{'first':'Milton', 'last':'Marx'}, 'nickname':'Gummo', 'born': 'October 23, 1892', 'age': 0},
				{'name':{'first':'Herbert', 'last':'Marx'}, 'nickname':'Zeppo', 'born': 'February 25, 1901', 'actor': true, 'solo_endeavours' : [
					{'title':'A Kiss in the Dark'}
				]}
			];

			// Simple template
			Tempo.prepare('simple-marx-brothers').render(data);
			// Nested template
			Tempo.prepare('nested-marx-brothers').render(data);
			
			// Multiple templates
			Tempo.prepare('more-marx-brothers').render(data);

			// Complex templates
			Tempo.prepare('complex-marx-brothers').render(data);

			// jQuery example
			var twitter = Tempo.prepare('jquery-ajax-twitter');
			$.getJSON("http://search.twitter.com/search.json?q='groucho marx'&rpp=5&callback=?", function(data) {
				twitter.render(data.results);
			});
		}
	</script>
	<style type="text/css">
		.tweet img {
			float: left;
			height: 48px;
			width: 48px;
		}

		.tweet div {
			margin-left: 58px;
		}
	</style>
</head>
<body>
<h1>
	Tempo &gt; The Simple JavaScript Template Engine
</h1>

<h3>
	Simple template
</h3>

<ol id="simple-marx-brothers">
	<li data-template>{{nickname}} {{name.last}} {{age}} {{actor}}
	</li>
</ol>

<h3>
	Nested templates
</h3>
<ol id="nested-marx-brothers">
	<li data-template>{{nickname}} {{name.last}}
		<ul>
			<li data-template="solo_endeavours" class="{{rating}}">
				{{title}}
			</li>
		</ul>
		<ol>
			<li data-template="foo">
				{{name}}
			</li>
		</ol>
	</li>
</ol>
<h3>
	Template selectors
</h3>
<ul id="more-marx-brothers">
	<li data-template id="{{nickname}}" class="brother">{{name.first}} {{name.last}} was not in any movies!
	</li>
	<li data-template data-if-nickname="Groucho" class="brother {{nickname}}">{{nickname}} (aka {{name.first}}) was
		grumpy!
	</li>
	<li data-template data-if-actor="" class="brother">{{name.first}}, nicknamed '<i>{{nickname}} {{name.last}}</i>'
		was born on {{born}}
	</li>
</ul>

<h3>
	More complex templates
</h3>
<table id="complex-marx-brothers">
	<thead>
		<tr>
			<th>
				Last Name
			</th>
			<th>
				First Name
			</th>
			<th>
				DOB
			</th>
			<th>
				Grumpy
			</th>
		</tr>
	</thead>
	<tbody>
		<tr data-template>
			<td>
				{{name.last}}
			</td>
			<td>
				<a href="#" onclick="alert('{{nickname}}'); return false;">{{name.first}}</a>
			</td>
			<td>
				{{born}}
			</td>
			<td>
				{{if nickname == 'Groucho' && name.last == 'Marx'}}<span>X ({{nickname}})</span>{{endif}}
			</td>
		</tr>
	</tbody>
</table>


<h3>
	Using with jQuery for AJAX
</h3>

<div id="jquery-ajax-twitter">
	<div data-template class="tweet">
		<img src="{{profile_image_url}}">

		<div>
			<a href="http://twitter.com/{{from_user}}">{{from_user}}</a> ({{created_at}})
			<p>
				{{text}}
			</p>
		</div>
	</div>
</div>
</body>
</html>
